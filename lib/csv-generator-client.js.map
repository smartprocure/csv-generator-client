{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap 26266d768eaae06afee5","webpack:///./src/index.js","webpack:///./src/csv-generator-client.js","webpack:///external \"lodash/fp\""],"names":["getDownloadLink","separator","dataArray","type","btoa","getData","flow","map","row","join","data","window","navigator","msSaveOrOpenBlob","encodeURIComponent","initSettings","addQuotes","fileName","isNull","isArray","_getLinkElement","settings","args","linkElement","document","createElement","href","download","generateDownloadLinkElement","msSaveBlob","generateDownloader","curry","blob","Blob","decodeURIComponent","encodeURI","style","display","body","appendChild","click","removeChild"],"mappings":"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","file":"csv-generator-client.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"lodash/fp\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"lodash/fp\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"csv-generator-client\"] = factory(require(\"lodash/fp\"));\n\telse\n\t\troot[\"csv-generator-client\"] = factory(root[\"lodash/fp\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 26266d768eaae06afee5","export * from './csv-generator-client'\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import _ from 'lodash/fp'\n\nlet getDownloadLink = (separator, dataArray) => {\n  let type = 'data:text/csv;charset=utf-8'\n  if (typeof btoa === 'function') {\n    type += ';base64'\n  }\n  return type + ',' + getData(separator, dataArray)\n}\n\nlet getData = separator => _.flow(\n  _.map(row => row.join(separator)),\n  data => data.join('\\r\\n'),\n  data => {\n    if (window.navigator.msSaveOrOpenBlob) {\n      return data\n    } else if (typeof btoa === 'function') {\n      data = btoa(data)\n    } else {\n      data = encodeURIComponent(data)\n    }\n    return data\n  }\n)\n\nlet initSettings = ({ separator = ',', addQuotes = false } = {}, fileName, dataArray) => {\n  if (addQuotes) {\n    separator = `\"${separator}\"`\n  }\n\n  if (_.isNull(fileName)) {\n    throw 'A file name is required'\n  }\n\n  if (!_.isArray(dataArray)) {\n    throw 'An data array is required.'\n  }\n\n  return {separator, fileName, dataArray}\n}\n\nlet _getLinkElement = (settings, fileName, dataArray) => {\n  let {separator} = initSettings(...args)\n  let linkElement = document.createElement('a')\n  linkElement.href = getDownloadLink(separator, dataArray)\n  linkElement.download = fileName\n  return linkElement\n}\n\nexport const generateDownloadLinkElement = window.navigator.msSaveBlob && _getLinkElement\n\nexport const generateDownloader = _.curry(function (settings, fileName, dataArray) {\n  let {separator} = initSettings(...args)\n  if (window.navigator.msSaveBlob) {\n    let blob = new Blob([decodeURIComponent(encodeURI(getData(separator, dataArray)))], {\n      type: 'text/csv;charset=utf-8;',\n    })\n    window.navigator.msSaveBlob(blob, fileName)\n  } else {\n    let linkElement = _getLinkElement(settings, fileName, dataArray)\n    linkElement.style.display = 'none'\n    document.body.appendChild(linkElement)\n    linkElement.click()\n    document.body.removeChild(linkElement)\n  }\n})\n\n\n\n// WEBPACK FOOTER //\n// ./src/csv-generator-client.js","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash/fp\"\n// module id = 2\n// module chunks = 0"],"sourceRoot":""}