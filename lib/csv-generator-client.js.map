{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap b8b74c4173c4c8834eb6","webpack:///./src/index.js","webpack:///./src/csv-generator-client.js","webpack:///external \"lodash/fp\""],"names":["getDownloadLink","separator","dataArray","type","btoa","getData","flow","map","row","join","data","window","navigator","msSaveOrOpenBlob","encodeURIComponent","initSettings","addQuotes","fileName","isNull","isArray","ieDownload","blob","Blob","decodeURIComponent","encodeURI","msSaveBlob","getLinkElement","settings","linkElement","document","createElement","href","onclick","download","style","display","body","appendChild","click","removeChild"],"mappings":"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","file":"csv-generator-client.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"lodash/fp\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"lodash/fp\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"csv-generator-client\"] = factory(require(\"lodash/fp\"));\n\telse\n\t\troot[\"csv-generator-client\"] = factory(root[\"lodash/fp\"]);\n})(this, function(__WEBPACK_EXTERNAL_MODULE_2__) {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b8b74c4173c4c8834eb6","export * from './csv-generator-client'\n\n\n\n// WEBPACK FOOTER //\n// ./src/index.js","import _ from 'lodash/fp'\n\nlet getDownloadLink = (separator, dataArray) => {\n  let type = 'data:text/csv;charset=utf-8'\n  if (typeof btoa === 'function') {\n    type += ';base64'\n  }\n  return type + ',' + getData(separator, dataArray)\n}\n\nlet getData = (separator, dataArray) =>  \n  _.flow(\n    _.map(row => row.join(separator)),\n    data => data.join('\\r\\n'),\n    data => {\n      if (window.navigator.msSaveOrOpenBlob) {\n        return data\n      } else if (typeof btoa === 'function') {\n        data = btoa(data)\n      } else {\n        data = encodeURIComponent(data)\n      }\n      return data\n    }\n  )(dataArray)\n\nlet initSettings = ({ separator = ',', addQuotes = false } = {}, fileName, dataArray) => {\n  if (addQuotes) {\n    separator = `\"${separator}\"`\n  }\n\n  if (_.isNull(fileName)) {\n    throw 'A file name is required'\n  }\n\n  if (!_.isArray(dataArray)) {\n    throw 'A data array is required.'\n  }\n\n  return {separator, fileName, dataArray}\n}\n\nlet ieDownload = (separator, fileName, dataArray) => {\n  let blob = new Blob([decodeURIComponent(encodeURI(getData(separator, dataArray)))], {\n    type: 'text/csv;charset=utf-8;',\n  })\n  window.navigator.msSaveBlob(blob, fileName)\n}\n\nexport const getLinkElement = (settings, fileName, dataArray) => {\n  let {separator} = initSettings(settings, fileName, dataArray)\n  let linkElement = document.createElement('a')\n  if (window.navigator.msSaveBlob) {\n    linkElement.href = '#'\n    linkElement.onclick = ieDownload(separator, fileName, dataArray)\n  } else {\n    linkElement.href = getDownloadLink(separator, dataArray)\n  }\n  linkElement.download = fileName\n  return linkElement\n}\n\nexport const download = function ({settings, fileName, dataArray}) {\n  let {separator} = initSettings(settings, fileName, dataArray)\n  if (window.navigator.msSaveBlob) {\n    ieDownload(separator, fileName, dataArray)\n  } else {\n    let linkElement = getLinkElement(settings, fileName, dataArray)\n    linkElement.style.display = 'none'\n    document.body.appendChild(linkElement)\n    linkElement.click()\n    document.body.removeChild(linkElement)\n  }\n}\n\n\n// WEBPACK FOOTER //\n// ./src/csv-generator-client.js","module.exports = __WEBPACK_EXTERNAL_MODULE_2__;\n\n\n//////////////////\n// WEBPACK FOOTER\n// external \"lodash/fp\"\n// module id = 2\n// module chunks = 0"],"sourceRoot":""}